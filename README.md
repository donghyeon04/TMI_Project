기획의도 :
23학번 신입생으로 입학하여 가천대학교의 건물들의 내부 구조가 생각보다 복잡함을 체감할 수 있었음. 또한 다른 학생들도 우리와 같이 건물 구조로 인해 불편함을 겪는 경우가 있음을 분석할 수 있었음
이러한 불편함을 해소하고자 건물 내부에서의 사용자가 가고자 하는 강의실이나 장소까지의 경로를 표시해주는 서비스를 최단 경로 알고리즘을 이용한 프로그래밍으로 가천대학교 건물 내부 길찾기 서비스를 도입하고자 함


1. 서비스 기획 단계
가천대학교 건물들의 내부 구조가 생각보다 복잡함을 체감할 수 있었습니다.
건물 내부 구조의 복잡함이라는 문제상황을 파악하게 되고, 이를 해결하고자 가천대학교 건물 내부 길 찾기 서비스를 제작하고자 하였습니다. 이를 실현하고자 가천대학교 학생들을 대상으로 설문조사를 실시함으로써,
약 64.5%(107명의 표본 중 69명)의 인원이 내부 구조로 인해 가장 불편을 느끼는 건물은 비전타워임을 확인할 수 있었습니다.
이를 바탕으로 이길 여기있어!_가천대학교 건물 내부 길 찾기 서비스를 기획하였습니다.

2. 핵심 알고리즘 개발 (dijkstra.py, openCVTMI.py, main.py) 및 단위테스트 진행
내부 길찾기 서비스에 활용될 파이썬 모듈 제작 및 단위테스트를 진행해보았으며, 이를 통해 웹사이트 백엔드의 기본 골자를 제작하였습니다.
각각 파일은,
dijkstra.py: 다익스트라 알고리즘을 기반으로, 시작 지점부터 끝 지점까지의 최단 거리를 리스트 형태로 반환해주는 모듈
openCVTMI.py: openCV모듈을 활용하여, 최단 경로 노드들을 직선, 시작노드, 도착노드를 표시해주는 모듈
main.py: dijkstra, openCVTMI 모듈을 활용하여 같은 층 정보의 최단거리를 이미지 형태로 반환해주는 모듈

3. 건물 내부 구조 매핑(Node_map 제작)
1번 과정에서 비전타워를 서비스지역으로 확정함에 따라, 비전타워 건물 내부 지도를 매핑하고자 각 층을 직접 돌아다니며 층별 구조를 확인했습니다.
이를 기반으로 비전타워 건물을 이길 여기있어 서비스에 적용할 수 있는 Node_map 파일로 데이터화 시켰습니다.
Node_map.py: 비전타워 건물에 대해 각 층마다 dijkstra 모듈에 적용될 Node 딕셔너리, openCVTMI 모듈에 적용될 좌표값 딕셔너리, main 모듈의 연산에 활용될 층정보, 이미지경로 딕셔너리를 중첩 딕셔너리 형태로 구현함.

4. 매핑한 데이터에 맞추어 핵심 알고리즘(dijkstra.py, openCVTMI.py, main.py) 수정과 최적화 진행
3번 과정에서 제작한 Node_map 데이터를 기반으로 이전에 제작한 핵심 알고리즘이 Node_map 데이터에서도 활용할 수 있도록 수정하였습니다.
또한 추가로 main 모듈에 서로 다른 층 정보에 대한 처리 알고리즘과 예외처리를 통해 유지보수성을 상승시키는 최적화를 진행하였습니다.

5. 웹사이트 디자인 및 웹사이트 제작.(index.html, index_start.html, index_end.html, index.img.html, styles.css, script.js)
4번 과정에서 제작한 핵심 알고리즘들이 적용될 이길 여기있어 웹사이트를 제작하고자 html, css, js를 활용하여 웹페이지를 제작하였습니다.
index.html: 이길 여기있어!_가천대학교 건물 내부 길찾기 서비스 의 메인화면
index_start.html: 시작 층, 시작 노드를 선택할 수 있는 웹페이지 
index_end.html: 도착 층, 도착 노드를 선택할 수 있는 웹페이지
index_img.html: 최종 길찾기 화면이 보여질 웹페이지

6. 4과정에서 제작한 알고리즘과, 5과정에서 제작한 웹사이트를 활용하여, flask를 통해 데이터 전송 부분을 구현 및 통합테스트 진행(app.py)
flask를 활용하여 4번 과정에서 제작한 알고리즘들과, 5번 과정에서 제작한 웹페이지들 간 데이터 전송을 flask의 render_template, request, session 기능 등을 활용하여 구현하였습니다.
각 웹페이지에서 선택한 값들을 request 기능을 활용하여 서버로 전송하고, 이후 이러한 전송값들을 세션 형식으로 서버에 저장하여, 알고리즘을 적용할 수 있도록 구현하였으며,
알고리즘이 적용된, 즉 후처리된 데이터들을 render_template 기능을 활용하여 웹사이트로 전송함으로써 데이터 전송 부분을 구현하였습니다.
기존의 기획서에서 사용하고자 하였던 Django에서 flask로 변경한 이유는, 저희가 제작하려는 웹사이트는 django와 같은 Full-stack Framework를 사용하기보다는, flask를 통해 하나씩 직접 개발함으로써 Web Framework에 익숙해지고 싶었고, 또한 구현하고자 하는 이길 여기있어_가천대학교 건물 내부 길찾기 서비스는 장고를 사용하기에는 너무 무겁다고 생각했기 때문입니다.

7. 서비스에 사용될 이미지 디자인 및 제작
실질적으로 웹사이트에 보여질 건물 내부 구조 사진을 제작하고자, 가천대학교 시설운영팀에게 제공받은 비전타워 평면도를 기반으로 건물 내부 구조 사진을 제작하였습니다.(참조_7)
또한 웹페이지에 적용할 파비콘과 로고를 제작하였으며, 시작노드, 도착노드를 명확하게 표시하고자 출발지점, 도착지점에 들어갈 이미지를 확보하였습니다.(참조_5, 참조_6)

8. 제작한 이미지들을 바탕으로 flask 웹사이트 제작
제작한 이미지들을 바탕으로, 웹페이지에 적절히 배치하였으며, openCVTMI모듈을 통해 연산한 이미지를 flask를 통해 웹사이트로 전송하기 위해 base64방식의 인코딩 방식을 적용하도록 알고리즘을 수정하였음.

9. 버그 및 기타 수정사항 수정 및 최종 마무리
8번 과정까지 제작한 웹사이트를 테스트해보며 이미지가 제대로 표시되지 않는 버그, 층별 운행되는 엘리베이터의 종류가 다르면, 에러가 발생하는 버그 등 이길 여기있어!_가천대학교 건물 내부 길찾기 서비스에 영향을 끼치는 버그들을 수정하였으며, 기타 수정사항들을 수정하며 최종 마무리를 하였습니다.


이러한 과정들을 통해 이길 여기있어!_가천대학교 건물 내부 길찾기 서비스를 제작하였으며, 주 사용자층(가천대학교 건물 이용객들)의 불편 사항을 해결하고자 하였습니다.


이길 여기있어!_가천대학교 건물 내부 길찾기 서비스에서 구현한 핵심 기능은 다음과 같습니다.
1. 선택한 층 정보에 따라 해당하는 층의 이미지를 실시간으로 표시하는 기능.
2. 선택한 출발지점, 도착지점 정보에 따라 해당하는 지점이 표시된 이미지를 실시간으로 표시하는 기능
3. 출발지점과 도착지점이 같은 층에 있으면, 하나의 사진으로, 출발지점과 도착지점이 다른 층에 있으면, 두 개의 사진으로 나뉘어 최단경로를 보여주는 기능
4. 각 이미지들을 눌러 확대하여 볼 수 있으며, 회전시키는 기능

이길 여기있어!_가천대학교 건물 내부 길찾기 서비스 사용법은 다음과 같습니다.
1. 웹페이지에 접속 후, 시작 버튼을 클릭한다.
2. 시작 층과 출발지점을 선택 후, 출발지점 확정하기 버튼을 클릭한다.
3. 도착 층과 도착지점을 선택 후, 도착지점 확정하기 버튼을 클릭한다.
4. 웹페이지에 표시된 이미지를 참고하여, 최단거리를 따라 이동한다.
5. 다시 이용하고싶으면, 처음부터 시작 버튼을 클릭한다.
